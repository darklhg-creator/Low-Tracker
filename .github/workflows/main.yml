name: ETF Leader Tracker

on:
  schedule:
    # ì›”~ê¸ˆ(1-5), UTC ê¸°ì¤€ 08:00 = í•œêµ­ ì‹œê°„(KST) 17:00 (ì˜¤í›„ 5ì‹œ)
    - cron: '0 8 * * 1-5' 
  workflow_dispatch: # ğŸ‘ˆ ê¹ƒí—ˆë¸Œ í˜ì´ì§€ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ë‹¹ì¥ ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆëŠ” ë²„íŠ¼ ìƒì„±

jobs:
  run-tracker:
    runs-on: ubuntu-latest # ê¹ƒí—ˆë¸Œê°€ ì œê³µí•˜ëŠ” ë¦¬ëˆ…ìŠ¤ ì„œë²„ ì‚¬ìš©

    steps:
    - name: ì €ì¥ì†Œ ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
      uses: actions/checkout@v3

    - name: íŒŒì´ì¬ í™˜ê²½ ì„¸íŒ…
      uses: actions/setup-python@v4
      with:
        python-version: '3.10' # ê°€ì¥ ì•ˆì •ì ì¸ íŒŒì´ì¬ 3.10 ë²„ì „ ì‚¬ìš©

    - name: í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (pykrx, pandas, requests)
      run: |
        python -m pip install --upgrade pip
        pip install pykrx pandas requests

    - name: ì£¼ë„ì£¼ íƒìƒ‰ íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
      run: python start2.py
